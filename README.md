# Статус-бар для _dwm_

Является частью моего сетапа [dwm](https://github.com/bakkeby/dwm-flexipatch). 

## Принцип работы программы

Для dwm статус-бар обновляется по команде `xsetroot -name $(TEXT)`. При этом подразумевается, что он может содержать исключительно текст.
Строка статуса собирается из нескольких блоков, реализующих трейт Block, и обновляется в бесконечном цикле. 

Общий интервал обновления строки задаётся в конфигурационном файле config.json. Для запуска программы вам потребуется создать этот
файл и заполнить своими настройками. Пример есть в [config.example.json](config.example.json).

Для некоторых блоков совершенно избыточно частое выполнение. Например, конкретно для блока погоды интервал обновления
составляет 15 минут. Для определения заряда батареи - одну секунду. Этот функционал реализован за счет [структуры](src/blocks/mod.rs),
сохраняющей последнее полученное значение и время последнего обновления.

Получить API ключ для погоды можно на сайте OpenWeather: https://openweathermap.org/

### Реализованные блоки
- **Дата, время и день недели**
- **Заряд батареи ноутбука**
- **Текущая погода за окном**

### Запуск

``` shell
    cargo build --release
    ./target/release/statusbar-rust --config ./config.json # или ваш конфигурационный файл
```

## Обратная связь

Если вам захотелось вдруг предложить что-то, задать вопрос, указать на ошибку или просто пообщаться - пишите в Телеграм [@auserum](https://t.me/auserum).